{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Combined Content Patcher / Unlockable Bundles / Furniture Framework / MonsterVariety Schema",
  "allOf": [
    {
      "if": {
        "type": "object",
        "properties": {
          "Furniture": {}
        },
        "required": ["Furniture"]
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/Leroymilo/FurnitureFramework/main/doc/schemas/content.json"
      },
      "else": {
        "allOf": [
          {
            "$ref": "https://smapi.io/schemas/content-patcher.json"
          },
          {
            "properties": {
              "Changes": {
                "type": "array",
                "items": {
                  "type": "object",
                  "allOf": [
                    {
                      "if": {
                        "properties": {
                          "Action": { "const": "EditData" },
                          "Target": {
                            "enum": [
                              "UnlockableBundles/Bundles",
                              "UnlockableBundles/AdvancedPricing",
                              "UnlockableBundles/WalletCurrencies",
                              "UnlockableBundles/PrizeTicketMachines",
                              "UnlockableBundles/BundleThemes",
                              "UnlockableBundles/CompletionRibbons"
                            ]
                          }
                        },
                        "required": ["Action", "Target"]
                      },
                      "then": {
                        "properties": {
                          "Entries": {
                            "type": "object",
                            "additionalProperties": {
                              "$ref": "./unlockable-bundles.schema.json"
                            }
                          }
                        }
                      }
                    },
                    {
                      "if": {
                        "properties": {
                          "Action": { "const": "EditData" },
                          "Target": {
                            "const": "mushymato.MonsterVariety/Data"
                          }
                        },
                        "required": ["Action", "Target"]
                      },
                      "then": {
                        "properties": {
                          "Entries": {
                            "type": "object",
                            "additionalProperties": {
                              "$ref": "./monster-variety.schema.json"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        ]
      }
    }
  ]
}
