{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Combined Content Patcher / Unlockable Bundles / Furniture Framework / MonsterVariety Schema",
  "allOf": [
    {
      "if": {
        "type": "object",
        "properties": {
          "UniqueID": { "type": "string" },
          "Name": { "type": "string" }
        },
        "required": ["UniqueID", "Name"]
      },
      "then": { "$ref": "https://smapi.io/schemas/manifest.json" },
      "else": {
        "if": {
          "type": "object",
          "properties": { "Furniture": {} },
          "required": ["Furniture"]
        },
        "then": {
          "$ref": "https://raw.githubusercontent.com/Leroymilo/FurnitureFramework/main/doc/schemas/content.json"
        },
        "else": {
          "allOf": [
            { "$ref": "https://smapi.io/schemas/content-patcher.json" },
            {
              "type": "object",
              "properties": {
                "Changes": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "allOf": [
                      {
                        "if": {
                          "properties": {
                            "Action": { "const": "EditData" },
                            "Target": { "const": "UnlockableBundles/Bundles" }
                          },
                          "required": ["Action", "Target"]
                        },
                        "then": {
                          "properties": {
                            "Entries": {
                              "type": "object",
                              "description": "UnlockableBundles/Bundles asset. Keys are bundle IDs.",
                              "additionalProperties": {
                                "$ref": "./unlockable-bundles.schema.json#/$defs/unlockableBundle"
                              }
                            }
                          }
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "Action": { "const": "EditData" },
                            "Target": {
                              "const": "UnlockableBundles/AdvancedPricing"
                            }
                          },
                          "required": ["Action", "Target"]
                        },
                        "then": {
                          "properties": {
                            "Entries": {
                              "type": "object",
                              "description": "UnlockableBundles/AdvancedPricing asset. Keys are AdvancedPricing IDs.",
                              "additionalProperties": {
                                "$ref": "./unlockable-bundles.schema.json#/$defs/advancedPricingItem"
                              }
                            }
                          }
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "Action": { "const": "EditData" },
                            "Target": {
                              "const": "UnlockableBundles/WalletCurrencies"
                            }
                          },
                          "required": ["Action", "Target"]
                        },
                        "then": {
                          "properties": {
                            "Entries": {
                              "type": "object",
                              "description": "UnlockableBundles/WalletCurrencies asset. Keys are currency IDs.",
                              "additionalProperties": {
                                "$ref": "./unlockable-bundles.schema.json#/$defs/walletCurrency"
                              }
                            }
                          }
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "Action": { "const": "EditData" },
                            "Target": {
                              "const": "UnlockableBundles/PrizeTicketMachines"
                            }
                          },
                          "required": ["Action", "Target"]
                        },
                        "then": {
                          "properties": {
                            "Entries": {
                              "type": "object",
                              "description": "UnlockableBundles/PrizeTicketMachines asset. Keys are prize machine IDs.",
                              "additionalProperties": {
                                "$ref": "./unlockable-bundles.schema.json#/$defs/prizeTicketMachine"
                              }
                            }
                          }
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "Action": { "const": "EditData" },
                            "Target": {
                              "const": "UnlockableBundles/CompletionRibbons"
                            }
                          },
                          "required": ["Action", "Target"]
                        },
                        "then": {
                          "properties": {
                            "Entries": {
                              "type": "object",
                              "description": "UnlockableBundles/CompletionRibbons asset. Keys are ribbon IDs.",
                              "additionalProperties": {
                                "$ref": "./unlockable-bundles.schema.json#/$defs/UbCompletionRibbon"
                              }
                            }
                          }
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "Action": { "const": "EditData" },
                            "Target": {
                              "const": "UnlockableBundles/BundleThemes"
                            }
                          },
                          "required": ["Action", "Target"]
                        },
                        "then": {
                          "properties": {
                            "Entries": {
                              "type": "object",
                              "description": "UnlockableBundles/BundleThemes asset. Keys are BundleTheme IDs.",
                              "additionalProperties": {
                                "type": "object"
                              }
                            }
                          }
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "Action": { "const": "EditData" },
                            "Target": {
                              "const": "mushymato.MonsterVariety/Data"
                            }
                          },
                          "required": ["Action", "Target"]
                        },
                        "then": {
                          "properties": {
                            "Entries": {
                              "type": "object",
                              "additionalProperties": {
                                "$ref": "./monster-variety.schema.json"
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    }
  ]
}
